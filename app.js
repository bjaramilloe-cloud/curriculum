// ====== Datos del CV (ya con TODO lo que pasaste) ======
const CV = {
  name: "Bryan Alexander Jaramillo Elizalde",
  title: "Senior Digital Agent · Educational Technology",
  summary:
    "Profesional en informática con experiencia en desarrollo (Python, Java, PHP, Laravel, Node.js, React Native, JavaScript) y bases de datos (MySQL, MongoDB, SQL). Enfocado en AWS (VPC y servicios en la nube), transformación digital e innovación. Miembro de AWS User Group Ecuador.",
  contact: {
    email: "bryanjaramillo35@gmail.com",
    phone: "+593 969007006",
    location:
      "Calderón – San Juan de Calderón, Quito, Pichincha, Ecuador",
    github: "",
    linkedin: "",
    cv: "cv.pdf",
    dni: "1725617649",
    birth: "1997-05-19",
    marital_status: "Soltero",
    salary_expectation_gross_usd: 800,
  },
  about: {
    photo: "hero-headshot.jpg",
    headline: "Hi There! I'm Bryan Jaramillo",
    role: "Educational Technology / Software Engineer",
    bullets: [
      "Experiencia en proyectos de transformación digital con AWS",
      "Desarrollo con Laravel/PHP, Node.js y React Native",
      "Integración de analítica con Power BI y MySQL",
      "Gestión de CMS/LMS y despliegues móviles (App Store / Play Store)",
    ],
  },
  experience: [
    {
      company: "Santillana S.A.",
      role: "Senior Digital Agent · Educational Technology",
      period: "2024-06-01 – Presente",
      bullets: [
        "Project Management en programación web (Laravel) y análisis de datos (Power BI).",
        "Consultoría y administración de servidores en AWS.",
        "Desarrollo PHP y Big Data con MySQL; frontend HTML/CSS3.",
        "Gestión de CMS/LMS y soporte a usuarios.",
        "Responsable de apps móviles; despliegue en App Store y Play Store (Android Studio, Xcode).",
        "Administración de actualizaciones de apps (Tienda Santillana, Santillana Práctica, Santillana Digital).",
        "Manejo de repositorios con Git.",
      ],
    },
    {
      company: "Unidad Educativa República Federal Suiza",
      role: "ICT Area Teaching Technician",
      period: "2023-09-01 – 2024-05-01",
      bullets: [
        "Docente en Física, Emprendimiento y Gestión, y Robótica.",
        "Diseño gráfico institucional.",
        "Soporte, mantenimiento y capacitación en SGA y LMS.",
        "Soporte y mantenimiento en redes y telecomunicaciones.",
      ],
    },
    {
      company: "Unidad Educativa República Federal Suiza",
      role: "ICT Area Teaching Technician",
      period: "2022-09-01 – 2023-07-01",
      bullets: [
        "Docente de Robótica.",
        "Diseño gráfico institucional.",
        "Soporte en redes y telecomunicaciones.",
      ],
    },
    {
      company: "Unidad Educativa Fiscal Luxemburgo",
      role: "Pre-professional Intern",
      period: "2021-09-01 – 2022-07-01",
      bullets: [
        "Colaborador en sistemas operativos y soporte técnico.",
        "Asesoría en el área de TIC durante el periodo lectivo 2021–2022.",
      ],
    },
    {
      company:
        "Compañía de Transportes San Sebastian COTRASSEB S.A.",
      role: "Shareholder Partner / Conductor profesional",
      period: "2019-06-01 – 2021-09-01",
      bullets: ["Servicios de transporte institucional y escolar."],
    },
    {
      company: "Metro de Quito",
      role: "Pre-professional Intern",
      period: "2020-10-01 – 2021-01-01",
      bullets: [
        "Capacitación cultural con la ciudadanía y Metro de Quito.",
        "Campaña MetroCultura (valores y aseo).",
      ],
    },
    {
      company: "Productora del Pacífico",
      role: "Cameraman · Advertising Design",
      period: "2016-01-01 – 2017-01-01",
      bullets: [
        "Camarógrafo principal y diseño publicitario para redes, banners, vallas y afiches.",
      ],
    },
  ],
  skills: [
    { name: "HTML", value: 90 },
    { name: "Java", value: 75 },
    { name: "JavaScript", value: 75 },
    { name: "Oracle Developer/2000", value: 55 },
    { name: "PHP", value: 90 },
    { name: "Python", value: 90 },
    { name: "SQL", value: 90 },
    { name: "Big Data", value: 90 },
    { name: "Cloud Computing (AWS)", value: 75 },
    { name: "Node.js", value: 75 },
    { name: "Fibra Óptica", value: 55 },
    { name: "IIS (Internet Information Services)", value: 75 },
    { name: "CSS3", value: 90 },
    { name: "CMS / LMS", value: 90 },
    { name: "MySQL", value: 90 },
    { name: "Microsoft Office / Google Docs", value: 90 },
    { name: "React Native", value: 75 },
  ],
  other_knowledge: [
    "Electricidad",
    "Diseño gráfico",
    "Mantenimiento",
    "Soporte técnico",
    "Robótica",
    "ISO",
    "Ciberseguridad",
    "LMS",
    "Ethical Hacking",
    "Productor Audiovisual",
    "Laravel",
    "Composer",
    "AWS",
    "Arquitectura de nube",
    "NPM",
  ],
  education: [
    {
      school: "Universidad Estatal de Milagro",
      degree: "Maestría en Ingeniería en Software",
      period: "2025-01-01 – Presente",
      details: [],
    },
    {
      school: "San Ignacio University (Estados Unidos)",
      degree: "Especialización en Data Analytics",
      period: "2025-01-01 – 2025-04-01",
      details: [],
    },
    {
      school: "Santillana S.A.",
      degree: "Especialización Power BI Básico–Intermedio",
      period: "2025-02-01 – 2025-03-01",
      details: [],
    },
    {
      school: "Universidad San Francisco de Quito",
      degree:
        "Liderazgo auténtico & inteligencia emocional",
      period: "2025-09-01 – 2025-10-01",
      details: [],
    },
    {
      school: "Universidad Central del Ecuador",
      degree: "Licenciado en Ciencias de la Informática",
      period: "2019-04-01 – 2024-05-01",
      details: [],
    },
    {
      school: "Cisco Networking Academy",
      degree: "Introducción a la Seguridad Cibernética",
      period: "2023-03-01 – 2023-05-01",
      details: [],
    },
    {
      school: "Hacker Mentor Academia de Ciberseguridad",
      degree: "Ethical Hacking | Red Team",
      period: "2022-10-01 – 2022-12-01",
      details: [],
    },
    {
      school: "Python Institute (Estados Unidos)",
      degree:
        "Certificate of Proficiency in the Python Programming",
      period: "2022-05-01 – 2022-07-01",
      details: [],
    },
    {
      school: "Politécnico de Colombia",
      degree: "Diplomado en diseño digital",
      period: "2021-02-01 – 2021-09-01",
      details: [],
    },
    {
      school: "Universitat Oberta de Catalunya",
      degree: "Tecnología en evaluación de entornos virtuales",
      period: "2020-01-01 – 2020-02-01",
      details: [],
    },
    {
      school: "Universidade da Coruña",
      degree: "Tecnología para la participación activa",
      period: "2019-12-01 – 2020-01-01",
      details: [],
    },
    {
      school: "Fundación Carlos Slim",
      degree: "Certificado Técnico en Salud Digital",
      period: "2018-10-01 – 2018-11-01",
      details: [],
    },
    {
      school: "Fundación Carlos Slim",
      degree: "Certificado Técnico Finder",
      period: "2018-08-01 – 2018-09-01",
      details: [],
    },
    {
      school: "Fundación Carlos Slim",
      degree: "Certificado Técnico en Informática",
      period: "2018-06-01 – 2018-07-01",
      details: [],
    },
    {
      school:
        "Unidad Educativa Dr. Manuel Benjamín Carrión Mora",
      degree: "Bachiller en Ciencias",
      period: "2010-09-01 – 2015-07-01",
      details: [],
    },
    {
      school:
        "Centro de Estudios Internacionales Santander",
      degree: "Relaciones Humanas y Superación Personal",
      period: "2014-11-01 – 2014-12-01",
      details: [],
    },
  ],
  certifications: [
    {
      name: "AWS User Group Ecuador (miembro)",
      issuer: "AWS User Group Ecuador",
      year: 2024,
    },
  ],
  languages: [
    { name: "Español", level: "Nativo" },
    { name: "Inglés", level: "Oral Intermedio / Escrito Básico" },
  ],
};

// ====== Render ======
function el(tag, attrs = {}, children = []) {
  const n = document.createElement(tag);
  Object.entries(attrs).forEach(([k, v]) => {
    if (k === "class") n.className = v;
    else if (k === "html") n.innerHTML = v;
    else if (k.startsWith("on") && typeof v === "function") {
      n.addEventListener(k.substring(2), v);
    } else if (v !== undefined && v !== null) {
      n.setAttribute(k, v);
    }
  });
  (Array.isArray(children) ? children : [children]).forEach((c) => {
    if (c === null || c === undefined) return;
    n.appendChild(c.nodeType ? c : document.createTextNode(c));
  });
  return n;
}

function mountHero() {
  document.getElementById("nameTitle").textContent = CV.name;
  document.getElementById("summary").textContent = CV.summary;
  document.getElementById("cvLink").href = CV.contact.cv || "#";

  const meta = [];
  if (CV.title) meta.push(`<i class="ri-briefcase-line"></i> ${CV.title}`);
  if (CV.contact.location)
    meta.push(`<i class="ri-map-pin-line"></i> ${CV.contact.location}`);
  if (CV.contact.dni) meta.push(`<i class="ri-id-card-line"></i> ${CV.contact.dni}`);
  document.getElementById("heroMeta").innerHTML = meta
    .map((m) => `<span>${m}</span>`)
    .join("");
}

function mountAbout() {
  document.getElementById("aboutPhoto").src = CV.about.photo || "hero-headshot.jpg";
  document.getElementById("aboutHeadline").textContent = CV.about.headline;
  document.getElementById("aboutRole").textContent = CV.about.role;
  document.getElementById("aboutSummary").textContent = CV.summary;

  const ul = document.getElementById("aboutBullets");
  CV.about.bullets.forEach((b) => ul.appendChild(el("li", {}, b)));

  const row = document.getElementById("contactChips");
  const chips = [
    { icon: "ri-mail-line", label: CV.contact.email, href: `mailto:${CV.contact.email}` },
    { icon: "ri-phone-line", label: CV.contact.phone, href: `tel:${CV.contact.phone}` },
    { icon: "ri-map-pin-line", label: CV.contact.location, href: "#" },
  ];
  chips.forEach((c) =>
    row.appendChild(
      el("a", { class: "chip", href: c.href }, [
        el("i", { class: c.icon }),
        el("span", {}, c.label),
      ])
    )
  );
}

function mountSkills() {
  const skills = document.getElementById("skillsList");
  CV.skills.forEach((s) => {
    const item = el("div", { class: "skill" }, [
      el("div", { class: "top" }, [
        el("span", {}, s.name),
        el("span", {}, `${s.value}%`),
      ]),
      (function () {
        const bar = el("div", { class: "bar" }, [el("span")]);
        bar.firstChild.style.width = `${s.value}%`;
        return bar;
      })(),
    ]);
    skills.appendChild(item);
  });

  const ok = document.getElementById("otherKnowledge");
  CV.other_knowledge.forEach((k) =>
    ok.appendChild(el("span", { class: "chip" }, [el("i", { class: "ri-check-line" }), k]))
  );
}

function mountExperience() {
  const wrap = document.getElementById("experienceList");
  CV.experience.forEach((e) => {
    const card = el("div", { class: "item card" }, [
      el("div", { class: "head" }, [
        el("h3", {}, `${e.role} · ${e.company}`),
        el("span", { class: "period" }, e.period),
      ]),
      (function () {
        const ul = el("ul");
        e.bullets.forEach((b) => ul.appendChild(el("li", {}, b)));
        return ul;
      })(),
    ]);
    wrap.appendChild(card);
  });
}

function mountEducation() {
  const wrap = document.getElementById("educationList");
  CV.education.forEach((ed) => {
    const card = el("div", { class: "item card" }, [
      el("div", { class: "head" }, [
        el("h3", {}, ed.degree),
        el("span", { class: "period" }, ed.period),
      ]),
      el("div", { class: "muted" }, ed.school),
    ]);
    wrap.appendChild(card);
  });
}

function mountCertsLangs() {
  const certs = document.getElementById("certsList");
  CV.certifications.forEach((c) => {
    certs.appendChild(
      el("div", { class: "card" }, [
        el("div", {}, `${c.name} · ${c.issuer}`),
        el("div", { class: "period" }, c.year),
      ])
    );
  });

  const langs = document.getElementById("langsList");
  CV.languages.forEach((l) => {
    langs.appendChild(
      el("div", { class: "card" }, [
        el("div", {}, l.name),
        el("div", { class: "period" }, l.level),
      ])
    );
  });
}

function mountContact() {
  const { email, phone, location, github, linkedin, cv } = CV.contact;
  document.getElementById("emailChip").href = `mailto:${email}`;
  document.querySelector("#emailChip span").textContent = email;
  document.getElementById("phoneChip").href = `tel:${phone}`;
  document.querySelector("#phoneChip span").textContent = phone;
  document.querySelector("#locationChip span").textContent = location;

  const gh = document.getElementById("githubChip");
  if (github) gh.href = github; else gh.style.display = "none";
  const li = document.getElementById("linkedinChip");
  if (linkedin) li.href = linkedin; else li.style.display = "none";

  const cvChip = document.getElementById("cvChip");
  if (cv) cvChip.href = cv; else cvChip.style.display = "none";

  document.getElementById("emailLink").href = `mailto:${email}`;
  document.getElementById("year").textContent = new Date().getFullYear();
  document.getElementById("nameFoot").textContent = CV.name;
}

// Boot
(function init(){
  mountHero();
  mountAbout();
  mountSkills();
  mountExperience();
  mountEducation();
  mountCertsLangs();
  mountContact();
})();
